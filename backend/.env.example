# ===========================================
# Rate Limiter Backend Configuration
# ===========================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
# Set to 'true' in production with TLS-enabled Redis
REDIS_TLS=false
# Failure mode: 'open' (allow all if Redis down) or 'closed' (deny all)
REDIS_FAILURE_MODE=open

# JWT Configuration
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_64_BYTES_MIN
JWT_EXPIRY=1h
REFRESH_TOKEN_EXPIRY=7d

# Password Hashing
BCRYPT_ROUNDS=12

# Default Rate Limits
DEFAULT_RATE_LIMIT=100
DEFAULT_RATE_WINDOW=60

# Admin Configuration
# Generate hash: node -e "console.log(require('bcryptjs').hashSync('your-password', 12))"
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD_HASH=$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/X4/9tL6fRZ6dN5yGy

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:3001,http://localhost:5173

# Logging
LOG_LEVEL=debug
LOG_FORMAT=dev

# Trusted Proxies (comma-separated IPs or 'loopback', 'linklocal', 'uniquelocal')
TRUST_PROXY=loopback
